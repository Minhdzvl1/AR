<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>AR Pro - Full Features</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <style>
        body { margin: 0; overflow: hidden; font-family: sans-serif; }
        .ui-overlay {
            position: fixed; bottom: 10px; left: 50%; transform: translateX(-50%);
            width: 95%; z-index: 999; display: flex; flex-direction: column; gap: 5px;
            background: rgba(0,0,0,0.5); padding: 10px; border-radius: 15px;
        }
        .control-row { display: flex; justify-content: center; gap: 4px; flex-wrap: wrap; margin-bottom: 5px; }
        button {
            padding: 8px 10px; border-radius: 6px; border: none;
            background: white; font-weight: bold; font-size: 11px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        .btn-add { background: #28a745; color: white; }
        .btn-move { background: #007bff; color: white; min-width: 40px; }
        .btn-rot { background: #ff9f43; color: white; }
        .btn-scale { background: #6c5ce7; color: white; }
        .label { color: white; font-size: 10px; font-weight: bold; width: 100%; text-align: center; margin-bottom: 2px; }
    </style>
</head>
<body style="margin: 0; overflow: hidden;">

    <div class="ui-overlay">
        <div class="label">TH√äM ƒê·ªí V·∫¨T</div>
        <div class="control-row">
            <button class="btn-add" onclick="add('den.glb')">üí° ƒê√®n</button>
            <button class="btn-add" onclick="add('tivi.glb')">üì∫ Tivi</button>
            <button class="btn-add" onclick="add('ghe.glb')">ü™ë Gh·∫ø</button>
            <button class="btn-add" onclick="add('ban.glb')">üì¶ B√†n</button>
        </div>
        
        <div class="label">DI CHUY·ªÇN & N√ÇNG H·∫†</div>
        <div class="control-row">
            <button class="btn-move" onclick="move('y', 0.1)">+</button>
            <button class="btn-move" onclick="move('y', -0.1)">-</button>
            <button class="btn-move" onclick="move('z', -0.2)">‚Üë Ti·∫øn</button>
            <button class="btn-move" onclick="move('z', 0.2)">‚Üì L√πi</button>
        </div>

        <div class="label">XOAY & PH√ìNG TO/THU NH·ªé</div>
        <div class="control-row">
            <button class="btn-rot" onclick="rotate(15)">üîÑ Xoay</button>
            <button class="btn-scale" onclick="scale(1.1)">üîç To</button>
            <button class="btn-scale" onclick="scale(0.9)">üîç Nh·ªè</button>
            <button style="background:#ed1c24; color:white" onclick="removeLast()">X√≥a</button>
        </div>
    </div>

    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;" vr-mode-ui="enabled: false">
        <a-entity id="main-container"></a-entity>
        <a-entity camera></a-entity>
        <a-light type="ambient" intensity="0.8"></a-light>
    </a-scene>

    <script>
        let lastObjId = null;
        let objCount = 0;

        function add(file) {
            const container = document.querySelector('#main-container');
            const id = 'obj-' + (objCount++);
            const entity = document.createElement('a-entity');
            entity.setAttribute('id', id);
            entity.setAttribute('gltf-model', file);
            entity.setAttribute('position', '0 0 -2'); 
            entity.setAttribute('scale', '1 1 1');
            container.appendChild(entity);
            lastObjId = id;
        }

        function move(axis, val) {
            if (!lastObjId) return;
            const el = document.getElementById(lastObjId);
            const pos = el.getAttribute('position');
            pos[axis] += val;
            el.setAttribute('position', pos);
        }

        function rotate(deg) {
            if (!lastObjId) return;
            const el = document.getElementById(lastObjId);
            const rot = el.getAttribute('rotation');
            rot.y += deg;
            el.setAttribute('rotation', rot);
        }

        function scale(factor) {
            if (!lastObjId) return;
            const el = document.getElementById(lastObjId);
            const currentScale = el.getAttribute('scale');
            el.setAttribute('scale', {
                x: currentScale.x * factor,
                y: currentScale.y * factor,
                z: currentScale.z * factor
            });
        }

        function removeLast() {
            if (!lastObjId) return;
            const el = document.getElementById(lastObjId);
            el.parentNode.removeChild(el);
            lastObjId = null;
        }
    </script>
</body>
</html>





